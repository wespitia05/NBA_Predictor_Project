<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Stats Page</title>
    <!-- link to the css file in static folder -->
    <link rel="stylesheet" href="{{url_for('static', filename='teams_stats.css')}}">
</head>
<body>
    <header>
        <!-- nba logo -->
        <img src="{{ url_for('static', filename='images/nba-logo.png') }}" alt="NBA Logo" class="logo">

        <!-- wrap title and description in container-->
        <div class="header-text">
            <!-- page title -->
            <h1>{{ team_name }}</h1>
            <!-- page description -->
            <p>Last 20 Games</p>
        </div>

        <!-- wrap basic team info in container -->
        <div class="team-info">
            <p><span class="label">City:</span> <span class="value">{{ team_city }}</span></p>
            <p><span class="label">Abbreviation:</span> <span class="value">{{ team_abbr }}</span></p>
            <p><span class="label">Conference:</span> <span class="value">{{ team_conference }}</span></p>
            <p><span class="label">Division:</span> <span class="value">{{ team_division }}</span></p>
            <p><span class="label">Conference Rank:</span> <span class="value">{{ conf_rank }}</span></p>
            <p><span class="label">Division Rank:</span> <span class="value">{{ div_rank }}</span></p>
        </div>
    </header>
    <table>
        <thead>
            <tr>
                <th>Game Date</th>
                <th>Opponent</th>
                <th>Home/Away</th>
                <th>Points</th>
                <th>Rebounds</th>
                <th>Assists</th>
                <th>Turnovers</th>
                <th>Win</th>
            </tr>
        </thead>
        <tbody>
            {% for game in games %}
            <tr>
                <td>{{ game['Game Date'] }}</td>
                <td>{{ game['Opponent'] }}</td>
                <td>{{ game['Location'] }}</td>
                <td>{{ game['Points'] }}</td>
                <td>{{ game['Rebounds'] }}</td>
                <td>{{ game['Assists'] }}</td>
                <td>{{ game['Turnovers'] }}</td>
                <td>{{ 'Yes' if game['Win'] == 1 else 'No' }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <table>
        <thread>
            <tr>
                <th>Average Points</th>
                <th>Average Rebound</th>
                <th>Average Assists</th>
                <th>Average Turnovers</th>
            </tr>
        </thread>
        <tbody>
            <tr>
                <th>{{ avg_points | round(2) }}</th>
                <th>{{ avg_rebounds | round(2) }}</th>
                <th>{{ avg_assists | round(2) }}</th>
                <th>{{ avg_turnovers | round(2) }}</th>
            </tr>
        </tbody>
    </table>
</body>
</html>